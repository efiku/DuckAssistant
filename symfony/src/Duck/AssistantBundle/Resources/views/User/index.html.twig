{% extends 'DuckAssistantBundle::base.html.twig' %}

{% block title %}Użytkownicy{% endblock %}

{% block body %}
<h1>Lista użytkowników
    <a href="{{ path('duck_assistantBundle_user_add') }}"><button class="btn btn-primary">Dodaj Użytkownika</button></a>
</h1>
<div class="col-md-12">
    <table class="table">
        <thead>
            <th>#</th>
            <th>Nazwa:</th>
            <th>E-mail:</th>
            <th>Utworzony:</th>
            <th>Utworzone zadania</th>
            <th>Przypisane zadania:</th>
            <th>Utworzone kategorie:</th>
            <th>Akcja</th>
        </thead>

        {% for User in list %}
            <tr>
                <td>{{ User.id }}</td>
                <td>{{ User.name }}</td>
                <td>{{ User.email }}</td>
                <td>{{ User.createdAt|date('d-m-y') }}</td>
                <td>
                 {% for Task in User.createdTasks %}
                     {{ Task.content  }},
                {% endfor %}
                </td>
                <td>
                    {% for Task in User.assignedTasks %}
                        {{ Task.content  }},
                    {% endfor %}
                </td>
                <td>
                    {% for Category in User.createdCategories %}
                        {{ Category.name  }},
                    {% endfor %}
                </td>

                <td>
                    <a class="label label-primary" href="{{ path('duck_assistantBundle_user_edit', {'id': User.id }) }}">Edytuj</a> &nbsp;
                    <a class="label label-danger" href="{{ path('duck_assistantBundle_user_del', {'id':  User.id }) }}">Usuń</a>
                </td>
            </tr>
        {% endfor %}

    </table>

{% endblock %}
